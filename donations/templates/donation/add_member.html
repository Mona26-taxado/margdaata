{% extends "donation/base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg p-4 bg-white rounded">
        <h2 class="text-center text-primary"><i class="fa fa-user-plus"></i> Add Member</h2>

        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        {% endif %}

        <form method="POST" enctype="multipart/form-data" action="{% url 'add_member' %}" class="needs-validation" novalidate>
            {% csrf_token %}

            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-user"></i> Full Name *</label>
                    <input type="text" name="name" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-envelope"></i> Email *</label>
                    <input type="email" name="email" class="form-control" required>
                </div>
            </div>

            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-phone"></i> Mobile *</label>
                    <input type="tel" name="mobile" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-key"></i> Password *</label>
                    <input type="password" name="password1" class="form-control" required>
                </div>
            </div>

            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-lock"></i> Confirm Password *</label>
                    <input type="password" name="password2" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-user-tag"></i> Role</label>
                    <select name="role" class="form-select">
                        <option value="user">User</option>
                    </select>
                </div>
            </div>

            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-venus-mars"></i> Gender *</label>
                    <select name="gender" class="form-select" required>
                        <option value="" selected disabled>Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-calendar"></i> Date of Birth *</label>
                    <input type="date" name="dob" class="form-control" required>
                </div>
            </div>

            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-id-card"></i> Aadhaar Number *</label>
                    <input type="text" name="aadhar" class="form-control" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-map-marker-alt"></i> Home District *</label>
                    <input type="text" name="home_district" class="form-control" required>
                </div>
            </div>

            <div class="mt-2">
                <label class="form-label"><i class="fa fa-home"></i> Home Address *</label>
                <textarea name="home_address" class="form-control" rows="2" required></textarea>
            </div>

            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-building"></i> Department *</label>
                    <select name="department" class="form-control" required>
                        <option value="" selected disabled>Select Department</option>
                        <option value="Central Department - Railways, Postal, Airforce">Central Department - Railways, Postal, Airforce"</option>
                        <option value="Government Employees/Officers of Central Departments">Government Employees/Officers of State Departments</option>
                        <option value="Contract Employees/Officers of Departments">Contract Employees/Officers of Departments</option>
                        <option value="Kendriya Vidyalaya Teachers & Non-Teaching Staff">Kendriya Vidyalaya Teachers & Non-Teaching Staff</option>
                        <option value="Technical Education Teachers & Non-Teaching Staff">Technical Education Teachers & Non-Teaching Staff</option>
                        <option value="All Teachers in Government/Private Jobs">All Teachers in Government/Private Jobs</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-briefcase"></i> Post *</label>
                    <select name="post" class="form-control" required>
                        <option value="" selected disabled>Select Post</option>
                        <option value="Clerk">Clerk</option>
                        <option value="Peon">Peon</option>
                        <option value="Principal">Principal</option>
                        <option value="Director">Director</option>
                        <option value="Professor">Professor</option>
                        <option value="Nurse">Nurse</option>
                        <option value="Compounder">Compounder</option>
                        <option value="Doctor">Doctor</option>
                        <option value="Engineer">Engineer</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>

            <div class="row g-3 mt-2">
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-map"></i> Posting State *</label>
                    <select id="state" name="posting_state" class="form-control" required>
                        <option value="" selected disabled>Select District</option>
                                    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                    <option value="Assam">Assam</option>
                                    <option value="Bihar">Bihar</option>
                                    <option value="Chandigarh">Chandigarh</option>
                                    <option value="Chhattisgarh">Chhattisgarh</option>
                                    <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                    <option value="Daman and Diu">Daman and Diu</option>
                                    <option value="Delhi">Delhi</option>
                                    <option value="Goa">Goa</option>
                                    <option value="Gujarat">Gujarat</option>
                                    <option value="Haryana">Haryana</option>
                                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                    <option value="Jharkhand">Jharkhand</option>
                                    <option value="Karnataka">Karnataka</option>
                                    <option value="Kerala">Kerala</option>
                                    <option value="Ladakh">Ladakh</option>
                                    <option value="Lakshadweep">Lakshadweep</option>
                                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                                    <option value="Maharashtra">Maharashtra</option>
                                    <option value="Manipur">Manipur</option>
                                    <option value="Meghalaya">Meghalaya</option>
                                    <option value="Mizoram">Mizoram</option>
                                    <option value="Nagaland">Nagaland</option>
                                    <option value="Odisha">Odisha</option>
                                    <option value="Puducherry">Puducherry</option>
                                    <option value="Punjab">Punjab</option>
                                    <option value="Rajasthan">Rajasthan</option>
                                    <option value="Sikkim">Sikkim</option>
                                    <option value="Tamil Nadu">Tamil Nadu</option>
                                    <option value="Telangana">Telangana</option>
                                    <option value="Tripura">Tripura</option>
                                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                                    <option value="Uttarakhand">Uttarakhand</option>
                                    <option value="West Bengal">West Bengal</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label"><i class="fa fa-map-pin"></i> Posting District *</label>
                    <select id="district" name="posting_district" class="form-select" required>
                        <option value="" selected disabled>Select District</option>
                    </select>
                </div>
            </div>


            <button type="submit" class="btn btn-primary w-100 mt-4"><i class="fa fa-paper-plane"></i> Add Member</button>
        </form>
    </div>
</div>

<style>
    body {
        background: linear-gradient(to right, #141E30, #243B55);
        font-family: 'Arial', sans-serif;
    }
    .container {
        max-width: 784px;
    }
    .card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 12px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        padding: 20px;
    }
    .form-label {
        font-weight: bold;
        color: #333;
    }
    .form-control, .form-select {
        border-radius: 8px;
        border: 2px solid #908f8f;
        transition: 0.3s;
    }
    .form-control:focus, .form-select:focus {
        border-color: #27ae60;
        box-shadow: none;
    }
    .btn-primary {
        background: #27ae60;
        border: none;
        font-weight: bold;
        padding: 10px;
        border-radius: 8px;
        transition: 0.3s;
    }
    .btn-primary:hover {
        background: #219150;
        transform: scale(1.05);
    }
    
</style>
<script>
    // Mapping of States to Districts
    const stateToDistricts = {
        "Uttar Pradesh": ["Agra", "Aligarh", "Ambedkar Nagar", "Amethi", "Amroha", "Auraiya", "Ayodhya", "Azamgarh", "Badaun", "Baghpat", "Bahraich", "Ballia", "Balrampur", "Banda", "Barabanki", "Bareilly", "Basti", "Bhadohi", "Bijnor", "Budaun", "Bulandshahr", "Chandauli", "Chitrakoot", "Deoria", "Etah", "Etawah", "Farrukhabad", "Fatehpur", "Firozabad", "Ghazipur", "Ghaziabad", "Gorakhpur","Gonda", "Hamirpur", "Hapur", "Hathras", "Jhansi", "Jalaun", "Jansik", "Kannauj", "Kanpur Dehat", "Kanpur Nagar", "Kheri", "Kushinagar", "Lalitpur", "Lucknow", "Maharajganj", "Mainpuri", "Mathura", "Mau", "Meerut", "Mirzapur", "Moradabad", "Muzaffarnagar", "Pilibhit", "Prayagraj", "Rampur", "Saharanpur", "Sambhal", "Saranpur", "Sant Kabir Nagar", "Shahjahanpur", "Siddharthnagar", "Sitapur", "Sonbhadra", "Sultanpur", "Unnao", "Varanasi" ],

        "Madhya Pradesh": ["Bhopal", "Indore", "Gwalior", "Ujjain", "Jabalpur", "Sagar", "Dewas", "Ratlam", "Rewa", "Satna"],
        "Bihar": ["Patna", "Gaya", "Muzaffarpur", "Bhagalpur", "Purnia", "Darbhanga", "Begusarai", "Arrah", "Katihar", "Munger"],
        "Rajasthan": ["Jaipur", "Jodhpur", "Udaipur", "Ajmer", "Bikaner", "Kota", "Alwar", "Bharatpur", "Sikar", "Pali"],
        "Maharashtra": ["Mumbai", "Pune", "Nagpur", "Nashik", "Thane", "Aurangabad", "Solapur", "Amravati", "Nanded", "Kolhapur"],
        "Gujarat": ["Ahmedabad", "Surat", "Vadodara", "Rajkot", "Gandhinagar", "Bhavnagar", "Jamnagar", "Junagadh", "Anand", "Navsari"],
        "Delhi": ["Central Delhi", "East Delhi", "New Delhi", "South Delhi", "West Delhi", "North Delhi", "North East Delhi", "North West Delhi", "South West Delhi", "South East Delhi"],
        "Haryana": ["Ambala", "Bhiwani", "Faridabad", "Fatehabad", "Gurgaon", "Hisar", "Jhajjar", "Jind", "Kaithal", "Karnal"],
        "Punjab": ["Amritsar", "Bathinda", "Faridkot", "Firozpur", "Gurdaspur", "Hoshiarpur", "Jalandhar", "Kapurthala", "Ludhiana", "Mansa"],
        "Uttarakhand": ["Dehradun", "Haridwar", "Nainital", "Almora", "Bageshwar", "Chamoli", "Champawat", "Pauri Garhwal", "Pithoragarh", "Rudraprayag"],
        "Odisha": ["Bhubaneswar", "Cuttack", "Rourkela", "Berhampur", "Sambalpur", "Puri", "Balasore", "Bhadrak", "Baripada", "Bolangir"],
        "Kerala": ["Thiruvananthapuram", "Kollam", "Kochi", "Kozhikode", "Thrissur", "Kannur", "Alappuzha", "Kottayam", "Palakkad", "Manjeri"],
        "Tamil Nadu": ["Chennai", "Coimbatore", "Madurai", "Tiruchirappalli", "Tiruppur", "Salem", "Erode", "Tirunelveli", "Vellore", "Thoothukudi"],
        "Telangana": ["Hyderabad", "Warangal", "Khammam", "Nizamabad", "Karimnagar", "Ramagundam", "Mahbubnagar", "Nalgonda", "Adilabad", "Suryapet"],
        "Sikkim": ["Gangtok", "Mangan", "Gyalshing", "Singtam", "Namchi", "Ravangla", "Rangpo", "Jorethang", "Naya Bazar", "Rhenock"],
        "West Bengal": ["Kolkata", "Siliguri", "Asansol", "Durgapur", "Bardhaman", "Malda", "Baharampur", "Habra", "Kharagpur", "Shant Rukmini Nagar"],

    };

    document.getElementById("state").addEventListener("change", function () {
        let selectedState = this.value;
        let districtDropdown = document.getElementById("district");

        // Clear previous options
        districtDropdown.innerHTML = '<option value="" selected disabled>Select District</option>';

        // Add new districts based on the selected state
        if (selectedState in stateToDistricts) {
            stateToDistricts[selectedState].forEach(district => {
                let option = document.createElement("option");
                option.value = district;
                option.textContent = district;
                districtDropdown.appendChild(option);
            });
        }
    });
</script>

{% endblock %}
